<div class="recipe-edit-component">
  <form [formGroup]="recipeForm" (ngSubmit)="save()">
    <div class="btns-wrapper">
      <button
        class="btn green"
        [disabled]="recipeForm.invalid"
      >Save</button>
      <button
        class="btn red"
        type="button"
        (click)="onCancel()"
      >Cancel
      </button>
    </div>
    <div class="form-group">
      <label for="name">Name</label>
      <input
        type="text"
        id="name"
        formControlName="name"
      />
    </div>
    <div class="form-group">
      <label for="imagePath">Image Path</label>
      <input
        id="imagePath"
        type="text"
        formControlName="imagePath"
        #imagePath
      />
      <div class="image-wrapper">
        <img [src]="imagePath.value"/>
      </div>
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <textarea
        id="description"
        formControlName="description"
      ></textarea>
    </div>
    <div class="ingredients-wrapper" formArrayName="ingredients">
      <div
        class="ingredients-item"
        *ngFor="let ingredient of controls; let i = index"
        [formGroupName]="i"
      >
        <input
          class="w-60"
          type="text"
          formControlName="name"
        />
        <input
          class="w-20"
          type="number"
          formControlName="amount"
          [min]="1"
          [max]="100"
        />
        <button
          type="button"
          class="btn red w-20"
          (click)="onDeleteIngredient(i)"
        >Delete</button>
      </div>
      <div class="btn-wrapper">
        <button
          class="btn green"
          type="button"
          (click)="addedNewIngredient()"
        >Add Ingredient</button>
      </div>
    </div>
  </form>
</div>
